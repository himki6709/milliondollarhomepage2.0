<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1024">
    <title>THE MILLION DOLLAR HOMEPAGE 2.0</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <style>
        :root { --binance-yellow: #FCD535; --binance-black: #0B0E11; --dark-grey: #1E2329; }
        
        body { margin: 0; background: var(--binance-black); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; color: #fff; }
        #main-wrapper { width: 1200px; margin: 0 auto; background: #fff; position: relative; min-height: 100vh; box-shadow: 0 0 100px rgba(0,0,0,0.8); }

        /* Header Section */
        #header-area { padding: 30px 20px; border-bottom: 3px solid var(--binance-black); background: #fff; color: #000; }
        .social-corner { position: absolute; top: 20px; right: 30px; display: flex; gap: 15px; }
        .social-corner a { font-size: 24px; color: var(--binance-black); transition: 0.3s; }
        .social-corner a:hover { color: var(--binance-yellow); }

        .stats-row { display: flex; justify-content: center; gap: 40px; font-weight: 800; font-size: 18px; margin: 15px 0; color: #333; }
        
        /* Top Navigation/Action Buttons */
        .nav-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin-bottom: 20px; padding: 10px; }
        .portal-btn { background: var(--dark-grey); color: #fff; padding: 12px 25px; border-radius: 5px; cursor: pointer; border: 1px solid var(--binance-yellow); font-weight: bold; display: flex; align-items: center; gap: 8px; }
        .buy-btn { background: var(--binance-yellow); color: #000; padding: 12px 30px; border-radius: 5px; cursor: pointer; border: none; font-weight: 900; font-size: 16px; box-shadow: 0 4px 10px rgba(252, 213, 53, 0.3); }
        .pay-btn { background: var(--binance-black); color: var(--binance-yellow); padding: 12px 25px; border-radius: 5px; cursor: pointer; border: 2px solid var(--binance-yellow); font-weight: bold; }

        /* Payment Dropdown Box */
        #payMenu { display: none; background: #f9f9f9; border: 2px solid #ddd; border-radius: 8px; padding: 20px; width: 500px; margin: 10px auto; text-align: left; color: #000; position: absolute; left: 50%; transform: translateX(-50%); z-index: 1500; }
        .pay-item { padding: 10px; border-bottom: 1px solid #eee; cursor: pointer; }
        .pay-item:hover { background: #f0f0f0; }
        .pay-item b { display: block; color: var(--binance-black); font-size: 14px; }

        /* Canvas Style - Grid Border logic */
        #canvas-section { background: #EAECEF; padding: 20px 0; display: flex; justify-content: center; }
        .canvas-container { border: 10px solid var(--binance-black); background: #fff; line-height: 0; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        canvas { display: block; image-rendering: pixelated; }

        /* Modals - Confetti Fix */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 5000; justify-content: center; align-items: center; }
        .modal-content { background: #fff; padding: 40px; border-radius: 15px; width: 450px; text-align: left; color: #000; border-top: 8px solid var(--binance-yellow); }
        .close-modal { position: absolute; top: 15px; right: 25px; font-size: 30px; cursor: pointer; color: #999; }
        
        .order-form input { width: 94%; padding: 15px; margin: 10px 0 20px 0; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; }
        .final-submit { width: 100%; padding: 15px; background: var(--binance-yellow); border: none; font-weight: bold; cursor: pointer; font-size: 18px; border-radius: 5px; }

        /* WhatsApp Floating Button */
        .wa-float { position: fixed; bottom: 40px; right: 40px; background: #000; color: #fff; width: 70px; height: 70px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 40px; box-shadow: 0 5px 20px rgba(0,0,0,0.5); border: 3px solid #fff; text-decoration: none; z-index: 4000; transition: 0.3s; }
        .wa-float:hover { transform: scale(1.1); }

        #tooltip { position: absolute; background: rgba(0,0,0,0.9); color: #fff; padding: 8px 12px; border-radius: 4px; font-size: 12px; display: none; pointer-events: none; z-index: 2000; border: 1px solid var(--binance-yellow); }
    </style>
</head>
<body>

<div id="main-wrapper">
    <div class="social-corner">
        <a href="https://x.com/ARCHIVEKAWSAR" target="_blank"><i class="fab fa-twitter"></i></a>
        <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook"></i></a>
    </div>

    <div id="header-area">
        <h1 style="font-size: 38px; margin: 10px 0;">THE MILLION DOLLAR HOMEPAGE 2.0</h1>
        
        <div class="stats-row">
            <span>PLOTS: 100,000</span>
            <span style="color: #d93025;">CLAIMED: <span id="sold-count">0</span></span>
            <span style="color: #28a745;">VACANT: <span id="rem-count">100,000</span></span>
        </div>

        <div class="nav-container">
            <div class="portal-btn" onclick="openModal('protocolModal')"><i class="fas fa-list-ol"></i> PROTOCOL</div>
            <div class="portal-btn" onclick="openModal('benefitModal')"><i class="fas fa-award"></i> BENEFITS</div>
            <button class="buy-btn" onclick="openModal('orderModal')">BUY PLOT ($5/Plot)</button>
            <button class="pay-btn" onclick="togglePay()">PAYMENT GATEWAY</button>
        </div>

        <div id="payMenu">
            <div class="pay-item" onclick="copyVal('912221034')"><b>BINANCE ID (Tap to Copy)</b> 912221034</div>
            <div class="pay-item" onclick="copyVal('TTapBkTqrDnzHbWzek6wSBUTcJKFmR8Ws6')"><b>USDT TRC20 (Tap to Copy)</b> TTapBkTqrDnzHbWzek6wSBUTcJKFmR8Ws6</div>
            <div class="pay-item" onclick="copyVal('0x443792A4884e8e855f954ccEF910778Aff1eb78E')"><b>METAMASK / WEB3 (Tap to Copy)</b> 0x443792A4884e8e855f954ccEF910778Aff1eb78E</div>
        </div>
    </div>

    <div id="canvas-section">
        <div class="canvas-container">
            <canvas id="mainCanvas" width="1000" height="1250"></canvas>
            <div id="tooltip"></div>
        </div>
    </div>

    <div id="protocolModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('protocolModal')">×</span>
            <h3><i class="fas fa-shield-alt"></i> Protocol</h3>
            <p>১. পেমেন্ট গেটওয়ে থেকে আপনার পছন্দের মাধ্যমে পেমেন্ট করুন।</p>
            <p>২. ট্রানজেকশন স্ক্রিনশট এবং আপনার লোগো রেডি রাখুন।</p>
            <p>৩. হোয়াটসঅ্যাপ বাটনে ক্লিক করে সব তথ্য সাবমিট করুন।</p>
            <p>৪. ভেরিফিকেশনের পর ২ ঘণ্টার মধ্যে প্লট লাইভ হবে।</p>
        </div>
    </div>

    <div id="benefitModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('benefitModal')">×</span>
            <h3><i class="fas fa-gem"></i> Benefits</h3>
            <p>• চিরস্থায়ী মালিকানা (Lifetime Ownership)।</p>
            <p>• হাই-কোয়ালিটি ব্যাকলিংক এবং ব্র্যান্ডিং।</p>
            <p>• কোনো মাসিক বা বাৎসরিক রিনিউয়াল ফি নেই।</p>
            <p>• গ্লোবাল এলিট ক্লাবে আপনার ব্র্যান্ডের উপস্থিতি।</p>
        </div>
    </div>

    <div id="orderModal" class="modal">
        <div class="modal-content order-form">
            <span class="close-modal" onclick="closeModal('orderModal')">×</span>
            <h3>RESERVE YOUR SPACE</h3>
            <label>Brand Name</label>
            <input type="text" id="brand-name" placeholder="Enter Brand Name">
            <label>Quantity of Plots (Min 100)</label>
            <input type="number" id="plot-qty" value="100" min="100" oninput="updatePrice()">
            <div style="text-align:center; font-size:24px; font-weight:bold; margin-bottom:20px;">
                Total: $<span id="total-price">500</span>
            </div>
            <button class="final-submit" onclick="submitOrder()">SUBMIT ACQUISITION</button>
        </div>
    </div>

    <a href="https://wa.me/8801576940717" target="_blank" class="wa-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <footer style="padding: 50px; color: #999; background: #fff;">
        <p>© 2026 ARCHIVEKAWSAR. All Rights Reserved.</p>
    </footer>
</div>

<script>
    // Firebase Config
    const firebaseConfig = {
        apiKey: "AIzaSyDJbVCF0AkLkCiCwFBc1Ki5PrKxFeYt8_E",
        databaseURL: "https://milliondollarhomepage2-71ba3-default-rtdb.firebaseio.com",
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const cv = document.getElementById('mainCanvas'), ctx = cv.getContext('2d');
    const tooltip = document.getElementById('tooltip');
    const blockSize = 5; // ৫ পিক্সেল প্রতি প্লট

    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function togglePay() { 
        const m = document.getElementById('payMenu');
        m.style.display = (m.style.display === 'block') ? 'none' : 'block';
    }
    function copyVal(t) { navigator.clipboard.writeText(t); alert("Copied!"); }
    function updatePrice() {
        let q = document.getElementById('plot-qty').value;
        if(q < 100) q = 100;
        document.getElementById('total-price').innerText = q * 5;
    }

    function renderMap() {
        // ক্লিয়ার ক্যানভাস
        ctx.fillStyle = "#ffffff"; ctx.fillRect(0, 0, 1000, 1250);
        
        // গ্রিড বর্ডার লাইন (Binance Style - Darker)
        ctx.strokeStyle = "#E0E0E0"; ctx.lineWidth = 0.5;
        for(let i=0; i<=1000; i+=blockSize) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,1250); ctx.stroke(); }
        for(let i=0; i<=1250; i+=blockSize) { ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(1000,i); ctx.stroke(); }

        // পিক্সেল রেন্ডার
        db.ref('pixels').on('value', s => {
            const data = s.val() || {};
            const keys = Object.values(data);
            document.getElementById('sold-count').innerText = keys.length;
            document.getElementById('rem-count').innerText = 100000 - keys.length;
            
            keys.forEach(p => {
                const id = parseInt(p.plotID) - 1;
                const x = (id % 200) * blockSize, y = Math.floor(id / 200) * blockSize;
                let img = new Image(); img.crossOrigin = "anonymous"; img.src = p.imageUrl;
                img.onload = () => ctx.drawImage(img, x, y, blockSize, blockSize);
            });
        });
    }

    renderMap();

    function submitOrder() {
        const name = document.getElementById('brand-name').value;
        const qty = document.getElementById('plot-qty').value;
        if(!name || qty < 100) return alert("Please fill details correctly!");

        // রঙিন কাগজ (Confetti) ইফেক্ট পপ-আপের সামনে আনার জন্য z-index হ্যান্ডেল করা হয়েছে
        confetti({
            particleCount: 150,
            spread: 70,
            origin: { y: 0.6 },
            zIndex: 9999
        });

        setTimeout(() => {
            const msg = encodeURIComponent(`Hello! I want to buy plots.\nBrand: ${name}\nQty: ${qty}\nTotal: $${qty*5}`);
            window.open("https://wa.me/8801576940717?text=" + msg, "_blank");
            closeModal('orderModal');
        }, 1500);
    }

    // হোভার টুলটিপ
    cv.addEventListener('mousemove', (e) => {
        const rect = cv.getBoundingClientRect();
        const x = e.clientX - rect.left, y = e.clientY - rect.top;
        const id = Math.floor(y/blockSize)*200 + Math.floor(x/blockSize) + 1;
        // Tooltip logic same as before...
    });
</script>

</body>
</html>
